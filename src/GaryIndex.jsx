const mock = {
    "group1": {
        "questions": [
            {
                "search": "What is the best electric car in 2018?",
                "more": "8 Best Electric Vehicles 8) 2018 Kia Soul EV. 7) 2018 BMW i3. 6) 2018 Nissan Leaf. 5) 2018 Volkswagen e-Golf. 4) 2018 Tesla Model. 3) 2018 Hyundai Ioniq EV. 2) 2018 Tesla Model S. 1) 2018 Chevrolet Bolt EV. More items...\u2022Jul 30, 2018",
                "url": "https://cars.usnews.com/cars-trucks/best-electric-cars",
                "parent": "where to buy an electric car",
                "children": [
                    {
                        "search": "What is the best electric car out there?",
                        "more": "8 Best Electric Cars for 2019: Ranked Nissan LEAF. Mercedes-Benz B-Class. BMW i3. Tesla Model S. Ford Focus Electric. Chevrolet Spark EV. Chevrolet Bolt EV. Mitsubishi i-MiEV. Mar 4, 2019",
                        "url": "https://www.carmax.com/articles/best-electric-cars-ranking",
                        "parent": "What is the best electric car in 2018?",
                        "children": []
                    },
                    {
                        "search": "Which electric car is the cheapest?",
                        "more": "Cheapest electric cars: the top 10 Renault Zoe - \u00a317,720 + battery lease inc grant. Smart ForFour Electric Drive - \u00a318,190 inc grant. Hyundai Ioniq electric - \u00a327,250 inc grant. Hyundai Kona EV - \u00a327,250 inc grant. Nissan Leaf - \u00a327,995 inc grant. Nissan e-NV200 Combi - \u00a329,225 inc grant. Kia e-Niro - \u00a332,995 inc grant. More items...",
                        "url": "https://www.autoexpress.co.uk/best-cars/99735/the-cheapest-electric-cars-on-sale",
                        "parent": "What is the best electric car in 2018?",
                        "children": []
                    },
                    {
                        "search": "Do you really save money with an electric car?",
                        "more": "Plug-in electric vehicles (also known as electric cars or EVs) can save you money, with much lower fuel costs on average than conventional gasoline vehicles. ... While the operating costs of EVs are substantially lower, EVs can be more expensive to purchase than their conventional counterparts.May 25, 2019",
                        "url": "https://www.energy.gov/eere/electricvehicles/saving-fuel-and-vehicle-costs",
                        "parent": "What is the best electric car in 2018?",
                        "children": []
                    }
                ]
            },
            {
                "search": "Which electric car is the cheapest?",
                "more": "Cheapest electric cars: the top 10 Renault Zoe - \u00a317,720 + battery lease inc grant. Smart ForFour Electric Drive - \u00a318,190 inc grant. Hyundai Ioniq electric - \u00a327,250 inc grant. Hyundai Kona EV - \u00a327,250 inc grant. Nissan Leaf - \u00a327,995 inc grant. Nissan e-NV200 Combi - \u00a329,225 inc grant. Kia e-Niro - \u00a332,995 inc grant. More items...",
                "url": "https://www.autoexpress.co.uk/best-cars/99735/the-cheapest-electric-cars-on-sale",
                "parent": "where to buy an electric car",
                "children": [
                    {
                        "search": "Which is the cheapest electric car in the UK?",
                        "more": "The best electric cars in the UK 2018 Jaguar I-Pace (starts at \u00a358,995 after government grant) ... Tesla Model S (starts at \u00a353,500 after government grant) ... Nissan Leaf (starts at \u00a321,990 after government grant) ... Renault ZOE (starts at \u00a317,854 excluding battery rental) ... Tesla Model X (starts at \u00a371,900 after government grant) More items...",
                        "url": "https://www.alphr.com/cars/1001765/best-electric-cars-uk-best-evs-sale",
                        "parent": "Which electric car is the cheapest?",
                        "children": []
                    },
                    {
                        "search": "What is the cheapest electric car in Australia?",
                        "more": "List of EVs by price Hyunda Ioniq Electric $44,990 Hyunda Kona Electric $59,990 BMW i3 $68,400 Tesla Model S $115,000 Tesla Model X $165,000 3 more rows\u2022Apr 22, 2019",
                        "url": "https://www.carsguide.com.au/car-advice/cheapest-electric-car-in-australia-74220",
                        "parent": "Which electric car is the cheapest?",
                        "children": []
                    },
                    {
                        "search": "Will electric cars get cheaper?",
                        "more": "Electric Cars Are Estimated to Be Cheaper Than Regular Cars by 2022. Electric cars have developed a reputation as the ultimate status symbol of the champagne environmentalist, but that could be very close to changing. New research from BloombergNEF says they could be cheaper than combustion-engine cars by 2022.Apr 29, 2019",
                        "url": "https://singularityhub.com/.../electric-cars-are-estimated-to-be-cheaper-than-regular-cars-...",
                        "parent": "Which electric car is the cheapest?",
                        "children": []
                    },
                    {
                        "search": "What is the best electric car in 2018?",
                        "more": "8 Best Electric Vehicles 8) 2018 Kia Soul EV. 7) 2018 BMW i3. 6) 2018 Nissan Leaf. 5) 2018 Volkswagen e-Golf. 4) 2018 Tesla Model. 3) 2018 Hyundai Ioniq EV. 2) 2018 Tesla Model S. 1) 2018 Chevrolet Bolt EV. More items...\u2022Jul 30, 2018",
                        "url": "https://cars.usnews.com/cars-trucks/best-electric-cars",
                        "parent": "Which electric car is the cheapest?",
                        "children": []
                    }
                ]
            },
            {
                "search": "Is it worth it to buy an electric car?",
                "more": "Electricity is much cheaper than gas, and EVs are highly efficient. Electric cars also require very little maintenance. ... If you factor in these savings over the life of the vehicle, EVs aren't really more expensive to own. The tax credit may eventually disappear, but battery prices are dropping.Apr 16, 2018",
                "url": "https://cars.usnews.com/cars-trucks/why-people-dont-buy-electric-cars",
                "parent": "where to buy an electric car",
                "children": [
                    {
                        "search": "Do you really save money with an electric car?",
                        "more": "Plug-in electric vehicles (also known as electric cars or EVs) can save you money, with much lower fuel costs on average than conventional gasoline vehicles. ... While the operating costs of EVs are substantially lower, EVs can be more expensive to purchase than their conventional counterparts.May 25, 2019",
                        "url": "https://www.energy.gov/eere/electricvehicles/saving-fuel-and-vehicle-costs",
                        "parent": "Is it worth it to buy an electric car?",
                        "children": []
                    },
                    {
                        "search": "Will electric cars get cheaper?",
                        "more": "Electric Cars Are Estimated to Be Cheaper Than Regular Cars by 2022. Electric cars have developed a reputation as the ultimate status symbol of the champagne environmentalist, but that could be very close to changing. New research from BloombergNEF says they could be cheaper than combustion-engine cars by 2022.Apr 29, 2019",
                        "url": "https://singularityhub.com/.../electric-cars-are-estimated-to-be-cheaper-than-regular-cars-...",
                        "parent": "Is it worth it to buy an electric car?",
                        "children": []
                    },
                    {
                        "search": "Which electric car is the cheapest?",
                        "more": "Cheapest electric cars: the top 10 Renault Zoe - \u00a317,720 + battery lease inc grant. Smart ForFour Electric Drive - \u00a318,190 inc grant. Hyundai Ioniq electric - \u00a327,250 inc grant. Hyundai Kona EV - \u00a327,250 inc grant. Nissan Leaf - \u00a327,995 inc grant. Nissan e-NV200 Combi - \u00a329,225 inc grant. Kia e-Niro - \u00a332,995 inc grant. More items...",
                        "url": "https://www.autoexpress.co.uk/best-cars/99735/the-cheapest-electric-cars-on-sale",
                        "parent": "Is it worth it to buy an electric car?",
                        "children": []
                    },
                    {
                        "search": "Why are electric cars so expensive?",
                        "more": "When one talks of expensive, one probably thinks of high purchase price. There is one major reason for why electric cars have high upfront cost: The battery. ... Average energy density of EV batteries is also improving at around 5-7% per year.\u201d Another reason is the lack of local manufacturing chain.Jun 15, 2018",
                        "url": "https://www.quora.com/Why-are-electric-cars-more-expensive-than-conventional-ones",
                        "parent": "Is it worth it to buy an electric car?",
                        "children": []
                    }
                ]
            },
            {
                "search": "What is the best electric car for 2019?",
                "more": "Best Electric Cars You Can Buy in 2019 2019 Hyundai Kona Electric ($36,450) ... 2019 Audi e-tron ($74,800) ... 2019 BMW i8 Roadster ($163,300) ... 2019 Nissan Leaf Plus ($36,550) ... 2019 Hyundai Ioniq ($29,500) Jun 17, 2019",
                "url": "https://www.tomsguide.com/us/pictures-story/1365-best-electric-cars.html",
                "parent": "where to buy an electric car",
                "children": [
                    {
                        "search": "Which electric car has the longest range 2019?",
                        "more": "Best range electric cars 2019: EVs to buy with the longest charge Tesla Model X Long Range. Jaguar i-Pace. Kia E-Niro. Hyundai Kona Electric. Audi e-Tron. Nissan Leaf. BMW i3. Renault Zoe. More items...\u2022Jun 7, 2019",
                        "url": "https://www.carmagazine.co.uk/electric/longest-range-electric-cars-ev/",
                        "parent": "What is the best electric car for 2019?",
                        "children": []
                    },
                    {
                        "search": "What is the best electric car for the money?",
                        "more": "8 Best Electric Cars for 2019: Reviews, Photos, and More Mitsubishi i-MIEV. Chevrolet Bolt EV. Chevrolet Spark EV. Ford Focus Electric. Tesla Model S. BMW i3. Mercedes-Benz B-Class. Nissan LEAF. Mar 6, 2019",
                        "url": "https://www.carmax.com/articles/best-electric-cars",
                        "parent": "What is the best electric car for 2019?",
                        "children": []
                    },
                    {
                        "search": "What is the best electric car in 2018?",
                        "more": "8 Best Electric Vehicles 8) 2018 Kia Soul EV. 7) 2018 BMW i3. 6) 2018 Nissan Leaf. 5) 2018 Volkswagen e-Golf. 4) 2018 Tesla Model. 3) 2018 Hyundai Ioniq EV. 2) 2018 Tesla Model S. 1) 2018 Chevrolet Bolt EV. More items...\u2022Jul 30, 2018",
                        "url": "https://cars.usnews.com/cars-trucks/best-electric-cars",
                        "parent": "What is the best electric car for 2019?",
                        "children": []
                    },
                    {
                        "search": "What electric cars are coming out in 2019?",
                        "more": "We've already rounded up the best electric cars you can get in 2019, from Nissan Leaf to Tesla Model X, but the truth is that we're only at the tip of the EV iceberg. ... Audi e-Tron and e-Tron Sportback. ... Audi e-Tron GT. ... Audi Q2 e-Tron. Audi Q4 e-Tron. ... Aston Martin Lagonda. ... BMW i4. ... BMW iX3. ... Byton M-Byte. More items...\u2022Jun 5, 2019",
                        "url": "https://www.carmagazine.co.uk/electric/future-electric-cars-upcoming-evs/",
                        "parent": "What is the best electric car for 2019?",
                        "children": []
                    }
                ]
            }
        ]
    }
};

import React from 'react';
import ReactDOM from 'react-dom';
import axios from 'axios';
import './style.css';
import { Header, Icon, Input, Container, Segment, Button, List, Grid, Divider, Label } from 'semantic-ui-react';
import ResultsList from './GaryResults.jsx/index.js';


class App extends React.Component {
	constructor(props) {
		super(props);
		this.state = {
			loading: '',
			response: [],
			responseLoaded: false,
			buttonDisabled: false
		};

		this.fetchResults = this.fetchResults.bind(this);
	}

	fetchResults(arg) {
        console.log(`fetching ${arg}...`);
        this.setState({
            response: mock,
            buttonDisabled: false,
            responseLoaded: true
        });
		// axios.get('/scrape/' + arg).then((res) => {
		// 	console.log(res.data);
		// 	this.setState({
		// 		response: res.data,
		// 		buttonDisabled: false,
		// 		responseLoaded: true
		// 	});
		// });
	}

	onButtonClick = () => {
		this.setState({
			loading: this.state.value,
			buttonDisabled: true
		});
		this.fetchResults(this.state.value);
	};

	render() {
        const {response} = this.state;
        if (response && response.group1 && response.group1.questions) {
            return (<ResultsList  questions={response.group1.questions}/>);
        }

        else {
            return (<Container textAlign="center">
            <br />
            <Header color="blue" as="h2" icon>
                <Icon inverted color="blue" name="google" circular />
                <Header.Content>Google Scraper</Header.Content>
            </Header>

            <br />
            <br />

            <Input
                action={() => (
                    <Button disabled={this.state.buttonDisabled} color="blue" animated onClick={this.onButtonClick}>
                        <Button.Content visible>Search</Button.Content>
                        <Button.Content hidden>
                            <Icon name="search" />
                        </Button.Content>
                    </Button>
                )}
                onChange={(evt) => this.setState({ value: evt.target.value })}
            />
        </Container>)
        }
    }
}

ReactDOM.render(<App />, document.getElementById('app'));
