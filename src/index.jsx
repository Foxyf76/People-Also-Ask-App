const mock = {
  group1: {
    questions: [
      {
        article_header:
          "8 Best Electric Vehicles in 2018 | U.S. News & World Report",
        article_url: "https://cars.usnews.com/cars-trucks/best-electric-cars",
        children: [
          {
            article_header:
              "Best Electric Cars You Can Buy in 2019 - Tom's Guide",
            article_url:
              "https://www.tomsguide.com/us/pictures-story/1365-best-electric-cars.html",
            children: [],
            more:
              "Best Electric Cars You Can Buy in 2019 2019 Hyundai Kona Electric ($36,450) ... 2019 Audi e-tron ($74,800) ... 2019 BMW i8 Roadster ($163,300) ... 2019 Nissan Leaf Plus ($36,550) ... 2019 Hyundai Ioniq ($29,500) Jun 17, 2019",
            parent: "What is the best electric car 2018?",
            search: "What is the best electric car for 2019?"
          },
          {
            article_header: "8 Best Electric Cars for 2019: Ranked | CarMax",
            article_url:
              "https://www.carmax.com/articles/best-electric-cars-ranking",
            children: [],
            more:
              "8 Best Electric Cars for 2019: Ranked Nissan LEAF. Mercedes-Benz B-Class. BMW i3. Tesla Model S. Ford Focus Electric. Chevrolet Spark EV. Chevrolet Bolt EV. Mitsubishi i-MiEV. Mar 4, 2019",
            parent: "What is the best electric car 2018?",
            search: "What is the best electric car to buy?"
          },
          {
            article_header:
              "Future electric cars: upcoming EVs in 2019 onwards | CAR Magazine",
            article_url:
              "https://www.carmagazine.co.uk/electric/future-electric-cars-upcoming-evs/",
            children: [],
            more:
              "We've already rounded up the best electric cars you can get in 2019, from Nissan Leaf to Tesla Model X, but the truth is that we're only at the tip of the EV iceberg. ... Audi e-Tron and e-Tron Sportback. ... Audi e-Tron GT. ... Audi Q2 e-Tron. Audi Q4 e-Tron. ... Aston Martin Lagonda. ... BMW i4. ... BMW iX3. ... Byton M-Byte. More items...•Jun 5, 2019",
            parent: "What is the best electric car 2018?",
            search: "What electric cars are coming out in 2019?"
          },
          {
            article_header:
              "Best range electric cars 2019: EVs to buy with the longest charge ...",
            article_url:
              "https://www.carmagazine.co.uk/electric/longest-range-electric-cars-ev/",
            children: [],
            more:
              "Here are the 10 electric cars with the longest claimed range - measured using the WLTP test cycle - currently on sale in the UK: Tesla Model X Long Range. ... Jaguar i-Pace. ... Kia e-Niro. ... Hyundai Kona Electric. ... Audi e-Tron. ... Nissan Leaf e+ 239 mile range (WLTP) ... BMW i3. 193 mile range (WLTP) ... Renault Zoe. 186 mile range (WLTP) More items...•Jun 7, 2019",
            parent: "What is the best electric car 2018?",
            search: "Which electric car has the longest range?"
          }
        ],
        more:
          "8 Best Electric Vehicles 8) 2018 Kia Soul EV. 7) 2018 BMW i3. 6) 2018 Nissan Leaf. 5) 2018 Volkswagen e-Golf. 4) 2018 Tesla Model. 3) 2018 Hyundai Ioniq EV. 2) 2018 Tesla Model S. 1) 2018 Chevrolet Bolt EV. More items...•Jul 30, 2018",
        parent: "electric car",
        search: "What is the best electric car 2018?"
      },
      {
        article_header: "8 Best Electric Cars for 2019: Ranked | CarMax",
        article_url:
          "https://www.carmax.com/articles/best-electric-cars-ranking",
        children: [
          {
            article_header:
              "Best Electric Cars You Can Buy in 2019 - Tom's Guide",
            article_url:
              "https://www.tomsguide.com/us/pictures-story/1365-best-electric-cars.html",
            children: [],
            more:
              "Best Electric Cars You Can Buy in 2019 2019 Hyundai Kona Electric ($36,450) ... 2019 Audi e-tron ($74,800) ... 2019 BMW i8 Roadster ($163,300) ... 2019 Nissan Leaf Plus ($36,550) ... 2019 Hyundai Ioniq ($29,500) Jun 17, 2019",
            parent: "What is the best electric car to buy?",
            search: "What is the best electric car for 2019?"
          },
          {
            article_header: "8 Best Electric Cars for 2019: Ranked | CarMax",
            article_url:
              "https://www.carmax.com/articles/best-electric-cars-ranking",
            children: [],
            more:
              "8 Best Electric Cars for 2019: Ranked Nissan LEAF. Mercedes-Benz B-Class. BMW i3. Tesla Model S. Ford Focus Electric. Chevrolet Spark EV. Chevrolet Bolt EV. Mitsubishi i-MiEV. Mar 4, 2019",
            parent: "What is the best electric car to buy?",
            search: "What is the best electric car on the market?"
          },
          {
            article_header:
              "Best electric cars to buy 2019: Complete guide | Auto Express",
            article_url:
              "https://www.autoexpress.co.uk/best-cars/electric-cars/86169/best-electric-cars-on-sale",
            children: [],
            more:
              "Best electric cars to buy 2019 Jaguar I-Pace. Kia e-Niro. Hyundai Kona Electric. Tesla Model S. Nissan Leaf. Volkswagen e-Golf. Audi e-tron. More items...•Apr 29, 2019",
            parent: "What is the best electric car to buy?",
            search: "What is the best 2018 electric car?"
          },
          {
            article_header:
              "8 Best Electric Cars of 2018: Reviews, Photos, and More | CarMax",
            article_url: "https://www.carmax.com/articles/best-electric-cars",
            children: [],
            more:
              "Check out our list of the top eight best electric cars based on CarMax vehicle sales data from July 1, 2018 to December 31, 2018. Mitsubishi i-MIEV. Chevrolet Bolt EV. Chevrolet Spark EV. Ford Focus Electric. Tesla Model S. BMW i3. Mercedes-Benz B-Class. Nissan LEAF. Mar 6, 2019",
            parent: "What is the best electric car to buy?",
            search: "What is the cheapest electric car on the market?"
          }
        ],
        more:
          "8 Best Electric Cars for 2019: Ranked Nissan LEAF. Mercedes-Benz B-Class. BMW i3. Tesla Model S. Ford Focus Electric. Chevrolet Spark EV. Chevrolet Bolt EV. Mitsubishi i-MiEV. Mar 4, 2019",
        parent: "electric car",
        search: "What is the best electric car to buy?"
      },
      {
        article_header: "Best Electric Cars You Can Buy in 2019 | Tom's Guide",
        article_url:
          "https://www.tomsguide.com/us/pictures-story/1365-best-electric-cars.html",
        children: [
          {
            article_header:
              "Here are the new all-electric vehicles coming in 2019 - Electrek",
            article_url:
              "https://electrek.co/2018/12/30/new-electric-vehicles-2019/",
            children: [],
            more:
              "Here are the new all-electric vehicles coming in 2019 Audi e-tron 2019. The only reason for the Audi e-tron being on the list is actually because it is late. ... Mercedes-Benz EQC 2019. ... Mini Electric 2019. ... BMW i3 2019. ... Nissan Leaf 2019 with 60 kWh battery pack. ... Porsche Taycan. ... Kia Niro EV. ... Volvo all-electric XC40. Dec 30, 2018",
            parent: "What is the best electric car 2019?",
            search: "What electric cars are coming in 2019?"
          },
          {
            article_header: "8 Best Electric Cars for 2019: Ranked | CarMax",
            article_url:
              "https://www.carmax.com/articles/best-electric-cars-ranking",
            children: [],
            more:
              "8 Best Electric Cars for 2019: Ranked Nissan LEAF. Mercedes-Benz B-Class. BMW i3. Tesla Model S. Ford Focus Electric. Chevrolet Spark EV. Chevrolet Bolt EV. Mitsubishi i-MiEV. Mar 4, 2019",
            parent: "What is the best electric car 2019?",
            search: "What is the best electric car on the market?"
          },
          {
            article_header:
              "Best range electric cars 2019: EVs to buy with the longest charge ...",
            article_url:
              "https://www.carmagazine.co.uk/electric/longest-range-electric-cars-ev/",
            children: [],
            more:
              "Best range electric cars 2019: EVs to buy with the longest charge Tesla Model X Long Range. Jaguar i-Pace. Kia E-Niro. Hyundai Kona Electric. Audi e-Tron. Nissan Leaf. BMW i3. Renault Zoe. More items...•Jun 7, 2019",
            parent: "What is the best electric car 2019?",
            search: "Which electric car has the longest range 2019?"
          },
          {
            article_header:
              "Best electric cars to buy 2019: Complete guide | Auto Express",
            article_url:
              "https://www.autoexpress.co.uk/best-cars/electric-cars/86169/best-electric-cars-on-sale",
            children: [],
            more:
              "Best electric cars to buy 2019 Jaguar I-Pace. Kia e-Niro. Hyundai Kona Electric. Tesla Model S. Nissan Leaf. Volkswagen e-Golf. Audi e-tron. More items...•Apr 29, 2019",
            parent: "What is the best electric car 2019?",
            search: "What is the best 2018 electric car?"
          }
        ],
        more:
          "Best Electric Cars You Can Buy in 2019 2019 Hyundai Kona Electric ($36,450) ... 2019 Audi e-tron ($74,800) ... 2019 BMW i8 Roadster ($163,300) ... 2019 Nissan Leaf Plus ($36,550) ... 2019 Hyundai Ioniq ($29,500) ... 2019 Honda Insight ($22,830) ... 2019 Ram 1500 with eTorque ($31,700) ... 2019 Mitsubishi Outlander PHEV ($35,535) More items...•Jun 17, 2019",
        parent: "electric car",
        search: "What is the best electric car 2019?"
      },
      {
        article_header:
          "2019 Cost of Electric Cars for Top Brands | EnergySage",
        article_url:
          "https://www.energysage.com/electric-vehicles/costs-and-benefits-evs/electric-car-cost/",
        children: [
          {
            article_header:
              "How Much Does It Cost To Charge An Electric Car? - Plug In America",
            article_url:
              "https://pluginamerica.org/how-much-does-it-cost-charge-electric-car/",
            children: [],
            more:
              "The average cost of electricity in the US is 12 cents per kWh. Therefore, the average person driving the average EV 15,000 miles per year pays about $540.00 per year to charge it.",
            parent: "How much does it cost to buy a electric car?",
            search: "How much does an electric car charging station cost?"
          },
          {
            article_header:
              "2019 Cost of Electric Cars for Top Brands | EnergySage",
            article_url:
              "https://www.energysage.com/electric-vehicles/costs-and-benefits-evs/electric-car-cost/",
            children: [],
            more:
              "Starting cost for popular electric cars Electric car model 2018 base price* Nissan Leaf $22,490 Chevrolet Bolt $29,995 Tesla Model S $67,000 Tesla Model X $72,000 Jan 2, 2019",
            parent: "How much does it cost to buy a electric car?",
            search: "How much does an electric car cost on average?"
          },
          {
            article_header:
              "11 Reasons People Don't Buy Electric Cars (and Why They're Wrong)",
            article_url:
              "https://cars.usnews.com/cars-trucks/why-people-dont-buy-electric-cars",
            children: [],
            more:
              "Electricity is much cheaper than gas, and EVs are highly efficient. Electric cars also require very little maintenance. ... If you factor in these savings over the life of the vehicle, EVs aren't really more expensive to own. The tax credit may eventually disappear, but battery prices are dropping.Apr 16, 2018",
            parent: "How much does it cost to buy a electric car?",
            search: "Is it worth it to buy an electric car?"
          },
          {
            article_header:
              "Saving on Fuel and Vehicle Costs | Department of Energy",
            article_url:
              "https://www.energy.gov/eere/electricvehicles/saving-fuel-and-vehicle-costs",
            children: [],
            more:
              "Plug-in electric vehicles (also known as electric cars or EVs) can save you money, with much lower fuel costs on average than conventional gasoline vehicles. ... Electricity is less expensive than gasoline and EVs are more efficient than gasoline vehicles.May 25, 2019",
            parent: "How much does it cost to buy a electric car?",
            search: "Does an electric car save you money?"
          }
        ],
        more:
          "Starting cost for popular electric cars Electric car model 2018 base price* Nissan Leaf $22,490 Chevrolet Bolt $29,995 Tesla Model S $67,000 Tesla Model X $72,000 Jan 2, 2019",
        parent: "electric car",
        search: "How much does it cost to buy a electric car?"
      }
    ]
  }
};

import React from "react";
import ReactDOM from "react-dom";
import axios from "axios";
import "./style.css";
import {
  Header,
  Icon,
  Input,
  Container,
  Segment,
  Button,
  List,
  Grid,
  Divider,
  Label,
  Dimmer,
  Loader,
  Image
} from "semantic-ui-react";

import ResultsList from "./ResultsList.jsx";

class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      searchTerm: "",
      response: [],
      responseLoaded: false,
      buttonDisabled: false,
      loaderEnabled: false
    };

    this.fetchResults = this.fetchResults.bind(this);
  }

  fetchResults(arg) {
    console.log(`fetching ${arg}...`);
    this.setState({
      response: mock,
      buttonDisabled: false,
      responseLoaded: true,
      loaderEnabled: false
    });
    // axios.get("/scrape/" + arg).then(res => {
    //   console.log(res.data);
    //   this.setState({
    //     response: res.data,
    //     buttonDisabled: false,
    //     responseLoaded: true,
    //     loaderEnabled: false
    //   });
    // });
  }

  onButtonClick = () => {
    this.setState({
      searchTerm: this.state.value,
      buttonDisabled: true,
      loaderEnabled: true
    });
    this.fetchResults(this.state.value);
  };

  render() {
    const { response } = this.state;

    if (this.state.responseLoaded) {
      return (
        <div>
          <Container textAlign='center' className='header_container'>
            <br />
            <Image
              className='header_image'
              src='https://i.ibb.co/q1fNRDs/logo-invertedv4.png'
              size='large'
            />
          </Container>
          <br />
          <br />
          <Container textAlign='center'>
            <Input
              size='large'
              action={() => (
                <Button
                  disabled={this.state.buttonDisabled}
                  color='blue'
                  animated
                  onClick={this.onButtonClick}
                >
                  <Button.Content visible>Search</Button.Content>
                  <Button.Content hidden>
                    <Icon name='search' />
                  </Button.Content>
                </Button>
              )}
              onChange={evt => this.setState({ value: evt.target.value })}
            />

            <br />
            <br />

            <Divider horizontal>
              <Icon name='question circle outline' />
              &nbsp; People Also Asked
            </Divider>
            <Grid padded>
              <Header textAlign='left'>
                <Icon name='search' />
                <Header.Content className='uppercase_header'>
                  You Searched: '{this.state.searchTerm}'
                </Header.Content>
              </Header>
              <Segment compact stacked>
                <Dimmer active={this.state.loaderEnabled} inverted>
                  <Loader indeterminate>Scraping Searches...</Loader>
                </Dimmer>
                <List>
                  <ResultsList questions={response.group1.questions} />
                </List>
              </Segment>
            </Grid>
          </Container>
        </div>
      );
    } else {
      return (
        <div>
          <Container textAlign='center' className='header_container'>
            <br />
            <Image
              className='header_image'
              src='https://i.ibb.co/q1fNRDs/logo-invertedv4.png'
              size='large'
            />
            {/* <Header color="blue" as="h1" icon>
						<Icon inverted color="blue" name="google" circular />
						<Header.Content>Google Scraper</Header.Content>
					</Header> */}
          </Container>
          <br />
          <br />
          <Container textAlign='center'>
            <Input
              size='large'
              action={() => (
                <Button
                  disabled={this.state.buttonDisabled}
                  color='blue'
                  animated
                  onClick={this.onButtonClick}
                >
                  <Button.Content visible>Search</Button.Content>
                  <Button.Content hidden>
                    <Icon name='search' />
                  </Button.Content>
                </Button>
              )}
              onChange={evt => this.setState({ value: evt.target.value })}
            />

            <Segment className='loading_segment'>
              <Dimmer active={this.state.loaderEnabled} inverted>
                <Loader indeterminate>Scraping Searches...</Loader>
              </Dimmer>
            </Segment>

            <Label attached='bottom right' color='blue' size='small'>
              For Educational Purposes Only
            </Label>
          </Container>
        </div>
      );
    }
  }
}

ReactDOM.render(<App />, document.getElementById("app"));
